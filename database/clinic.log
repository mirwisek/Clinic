/*C3*/SET SCHEMA PUBLIC
CREATE TABLE IF NOT EXISTS Client(\u000a PhoneNumber VARCHAR(11) PRIMARY KEY,\u000a ClientID VARCHAR(4) UNIQUE,\u000a ClientName VARCHAR(100) NOT NULL,\u000a Type VARCHAR(30) NOT NULL,\u000a Locked BOOLEAN DEFAULT FALSE\u000a)
CREATE TABLE IF NOT EXISTS Invoice(\u000a InvoiceID INT PRIMARY KEY,\u000a ClientID VARCHAR(4),\u000a Entry DATETIME NOT NULL,\u000a TotalAmount DECIMAL(10,2) DEFAULT 0,\u000a Locked BOOLEAN DEFAULT FALSE,\u000a FOREIGN KEY (ClientID) REFERENCES Client(ClientID)\u000a)
CREATE TABLE IF NOT EXISTS Product(\u000a ProductID VARCHAR(10) PRIMARY KEY,\u000a Type VARCHAR(30),\u000a Legal BOOLEAN DEFAULT TRUE,\u000a ProductName VARCHAR(100) NOT NULL,\u000a Packing VARCHAR(10) NOT NULL,\u000a Supplier VARCHAR(30) NOT NULL,\u000a Company VARCHAR(30) NOT NULL,\u000a ExpiryDate DATE NOT NULL,\u000a Composition VARCHAR(100) NOT NULL,\u000a Description VARCHAR(255),\u000a PriceCarton DECIMAL(10,2) NOT NULL,\u000a PriceBox DECIMAL(10,2) NOT NULL,\u000a PriceBP DECIMAL(10,2),\u000a PricePill DECIMAL(10,2),\u000a PriceCartonCR DECIMAL(10,2) NOT NULL,\u000a PriceBoxCR DECIMAL(10,2) NOT NULL,\u000a PriceBPCR DECIMAL(10,2) NOT NULL,\u000a PricePillCR DECIMAL(10,2) NOT NULL,\u000a QtyCarton INT NOT NULL,\u000a QtyBox INT NOT NULL,\u000a QtyBP INT DEFAULT 0,\u000a QtyPill INT DEFAULT 0,\u000a BoxPCarton INT NOT NULL,\u000a BPPBox INT NOT NULL,\u000a PillPBP INT DEFAULT 0,\u000a Entry DATETIME,\u000a State VARCHAR(20) DEFAULT 'Unlocked'\u000a)
CREATE TABLE IF NOT EXISTS Line(\u000a InvoiceID INT,\u000a ProductID VARCHAR(10),\u000a LineNumber INT NOT NULL,\u000a PriceBy VARCHAR(30) NOT NULL,\u000a Price DECIMAL(10,2) NOT NULL,\u000a Quantity INT NOT NULL,\u000a SubTotal DECIMAL(10,2) DEFAULT 0.0,\u000a Discount DECIMAL(5,2) DEFAULT 0.0,\u000a NetTotal DECIMAL(10,2) DEFAULT 0.0,\u000a PRIMARY KEY (InvoiceID, ProductID, PriceBy),\u000a FOREIGN KEY (InvoiceID) REFERENCES Invoice(InvoiceID) ON DELETE CASCADE ON UPDATE CASCADE,\u000a FOREIGN KEY (ProductID) REFERENCES Product(ProductID) ON DELETE CASCADE ON UPDATE CASCADE\u000a)
DISCONNECT
